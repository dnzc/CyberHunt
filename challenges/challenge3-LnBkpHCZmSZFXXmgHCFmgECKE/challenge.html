<!DOCTYPE html>
<html>
    <head>
        <title>Challenge 3</title>
    </head>
    <body>

        <div id="loginForm">
            <input type="text" id="username" placeholder="username">
            <input type="text" id="password" placeholder="password">
            <button onclick="login()">Login</button>
        </div>

        <script>
            function rot13(str) {
                var input     = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
                var output    = 'NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm';
                var index     = x => input.indexOf(x);
                var translate = x => index(x) > -1 ? output[index(x)] : x;
                return str.split('').map(translate).join('');
            }
            function login(){
                var submittedUsername = document.getElementById("username").value;
                var submittedPassword = document.getElementById("password").value;
                document.getElementById("username").value = "";
                document.getElementById("password").value = "";
                if (md5(submittedUsername) == "21232f297a57a5a743894a0e4a801fc3" && md5(submittedPassword) == "482c811da5d5b4bc6d497ffa98491e38") {
                    alert("Login successful. Flag: flag{challenge4-" + md5(rot13(window.btoa(rot13(submittedUsername+submittedPassword)))).slice(0,25) + "}");
                } else {
                    alert("Login failed.");
                }
            }
        </script>

        <script src="http://www.myersdaily.org/joseph/javascript/md5.js"></script>

    </body>
</html>